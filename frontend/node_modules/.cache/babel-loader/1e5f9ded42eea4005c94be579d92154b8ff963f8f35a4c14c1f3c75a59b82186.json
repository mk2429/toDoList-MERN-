{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Downloads/deployedToDoMern/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Downloads/deployedToDoMern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Downloads/deployedToDoMern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";import Keycloak from\"keycloak-js\";var client=new Keycloak({url:\"http://127.0.0.1:8080\",realm:\"ToDoList\",clientId:\"toDoApp\"});export var UseAuth=function UseAuth(){var isRun=useRef(false);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLogin=_useState2[0],setLogin=_useState2[1];useEffect(function(){var initializeKeycloak=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!isRun.current){_context.next=2;break;}return _context.abrupt(\"return\");case 2:isRun.current=true;_context.prev=3;_context.next=6;return client.init({onLoad:\"login-required\"});case 6:setLogin(true);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](3);console.error(\"Keycloak initialization error:\",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[3,9]]);}));return function initializeKeycloak(){return _ref.apply(this,arguments);};}();initializeKeycloak();},[]);return{isLogin:isLogin};};","map":{"version":3,"names":["useState","useEffect","useRef","Keycloak","client","url","realm","clientId","UseAuth","isRun","_useState","_useState2","_slicedToArray","isLogin","setLogin","initializeKeycloak","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","current","abrupt","init","onLoad","t0","console","error","stop","apply","arguments"],"sources":["C:/Users/hp/Downloads/deployedToDoMern/frontend/src/UseAuth.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport Keycloak from \"keycloak-js\";\r\n\r\nconst client = new Keycloak({\r\n    url: \"http://127.0.0.1:8080\",\r\n    realm: \"ToDoList\",\r\n    clientId: \"toDoApp\"\r\n});\r\n\r\nexport const UseAuth = () => {\r\n    const isRun = useRef(false);\r\n    const [isLogin, setLogin] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const initializeKeycloak = async () => {\r\n            if (isRun.current) return;\r\n\r\n            isRun.current = true;\r\n            try {\r\n                await client.init({ onLoad: \"login-required\" });\r\n                setLogin(true);\r\n            } catch (error) {\r\n                console.error(\"Keycloak initialization error:\", error);\r\n            }\r\n        };\r\n\r\n        initializeKeycloak();\r\n    }, []);\r\n\r\n    return {\r\n        isLogin\r\n    };\r\n};\r\n"],"mappings":"+ZAAA,OAAgBA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAElC,GAAM,CAAAC,MAAM,CAAG,GAAI,CAAAD,QAAQ,CAAC,CACxBE,GAAG,CAAE,uBAAuB,CAC5BC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,SACd,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACzB,GAAM,CAAAC,KAAK,CAAGP,MAAM,CAAC,KAAK,CAAC,CAC3B,IAAAQ,SAAA,CAA4BV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApCG,OAAO,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAExBV,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAc,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,aACnBhB,KAAK,CAACiB,OAAO,EAAAH,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAI,MAAA,kBAEjBlB,KAAK,CAACiB,OAAO,CAAG,IAAI,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEX,CAAArB,MAAM,CAACwB,IAAI,CAAC,CAAEC,MAAM,CAAE,gBAAiB,CAAC,CAAC,QAC/Cf,QAAQ,CAAC,IAAI,CAAC,CAACS,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEfQ,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAAT,QAAA,CAAAO,EAAO,CAAC,CAAC,yBAAAP,QAAA,CAAAU,IAAA,MAAAb,OAAA,gBAE9D,kBAVK,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAUvB,CAEDpB,kBAAkB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACHF,OAAO,CAAPA,OACJ,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}